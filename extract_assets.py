#!/usr/bin/python3
import os
from shutil import copyfile

def ExtractFile(xmlPath, outputPath):
	execStr = "tools/ZAP2/ZAP2.out e -i %s -b baserom/ -o %s -gsf 1 -sm tools/ZAP2/SymbolMap_OoTMqDbg.txt" % (xmlPath, outputPath)

	print(execStr)
	os.system(execStr)

	# Copy generated C file to parent folder...
	#fileName = os.path.basename(xmlPath)
	#dirPath = os.path.dirname(xmlPath)
	#copyfile(outputPath + "/" + fileName.replace(".xml", ".c"), outputPath + "/../" + fileName.replace(".xml", ".c"))


# Textures
ExtractFile("assets/textures/xml/icon_item_24_static.xml", "assets/textures/icon_item_24_static")
ExtractFile("assets/textures/xml/icon_item_dungeon_static.xml", "assets/textures/icon_item_dungeon_static")
ExtractFile("assets/textures/xml/icon_item_field_static.xml", "assets/textures/icon_item_field_static")
ExtractFile("assets/textures/xml/icon_item_gameover_static.xml", "assets/textures/icon_item_gameover_static")
ExtractFile("assets/textures/xml/icon_item_nes_static.xml", "assets/textures/icon_item_nes_static")
ExtractFile("assets/textures/xml/icon_item_static.xml", "assets/textures/icon_item_static")

# Scenes and Rooms
ExtractFile("scenes/xml/test_levels/test01.xml", "scenes/test_levels/test01")
ExtractFile("scenes/xml/test_levels/testroom.xml", "scenes/test_levels/testroom")
ExtractFile("scenes/xml/test_levels/sutaru.xml", "scenes/test_levels/sutaru")
ExtractFile("scenes/xml/test_levels/syotes2.xml", "scenes/test_levels/syotes2")
ExtractFile("scenes/xml/test_levels/besitu.xml", "scenes/test_levels/besitu")
ExtractFile("scenes/xml/misc/kinsuta.xml", "scenes/misc/kinsuta")
ExtractFile("scenes/xml/misc/kakusiana.xml", "scenes/misc/kakusiana")
ExtractFile("scenes/xml/misc/hakaana.xml", "scenes/misc/hakaana")
ExtractFile("scenes/xml/misc/hakaana2.xml", "scenes/misc/hakaana2")
ExtractFile("scenes/xml/misc/hakaana_ouke.xml", "scenes/misc/hakaana_ouke")
ExtractFile("scenes/xml/overworld/spot00.xml", "scenes/overworld/spot00")
ExtractFile("scenes/xml/overworld/spot01.xml", "scenes/overworld/spot01")
ExtractFile("scenes/xml/overworld/spot02.xml", "scenes/overworld/spot02")
ExtractFile("scenes/xml/overworld/spot03.xml", "scenes/overworld/spot03")
ExtractFile("scenes/xml/overworld/spot04.xml", "scenes/overworld/spot04")
ExtractFile("scenes/xml/overworld/spot05.xml", "scenes/overworld/spot05")
ExtractFile("scenes/xml/overworld/spot06.xml", "scenes/overworld/spot06")
ExtractFile("scenes/xml/overworld/spot07.xml", "scenes/overworld/spot07")
ExtractFile("scenes/xml/overworld/spot08.xml", "scenes/overworld/spot08")
ExtractFile("scenes/xml/overworld/spot09.xml", "scenes/overworld/spot09")
ExtractFile("scenes/xml/overworld/spot10.xml", "scenes/overworld/spot10")
ExtractFile("scenes/xml/overworld/spot11.xml", "scenes/overworld/spot11")
ExtractFile("scenes/xml/overworld/spot12.xml", "scenes/overworld/spot12")
ExtractFile("scenes/xml/overworld/spot13.xml", "scenes/overworld/spot13")
ExtractFile("scenes/xml/overworld/spot15.xml", "scenes/overworld/spot15")
ExtractFile("scenes/xml/overworld/spot16.xml", "scenes/overworld/spot16")
ExtractFile("scenes/xml/overworld/spot17.xml", "scenes/overworld/spot17")
ExtractFile("scenes/xml/overworld/spot18.xml", "scenes/overworld/spot18")
ExtractFile("scenes/xml/overworld/spot20.xml", "scenes/overworld/spot20")
ExtractFile("scenes/xml/overworld/souko.xml", "scenes/overworld/souko")
ExtractFile("scenes/xml/indoors/tokinoma.xml", "scenes/indoors/tokinoma")
ExtractFile("scenes/xml/indoors/kenjyanoma.xml", "scenes/indoors/kenjyanoma")
ExtractFile("scenes/xml/indoors/hylia_labo.xml", "scenes/indoors/hylia_labo")
ExtractFile("scenes/xml/indoors/miharigoya.xml", "scenes/indoors/miharigoya")
ExtractFile("scenes/xml/indoors/mahouya.xml", "scenes/indoors/mahouya")
ExtractFile("scenes/xml/indoors/syatekijyou.xml", "scenes/indoors/syatekijyou")
ExtractFile("scenes/xml/dungeons/ydan.xml", "scenes/dungeons/ydan")
ExtractFile("scenes/xml/dungeons/ydan_boss.xml", "scenes/dungeons/ydan_boss")
ExtractFile("scenes/xml/dungeons/ddan.xml", "scenes/dungeons/ddan")
ExtractFile("scenes/xml/dungeons/ddan_boss.xml", "scenes/dungeons/ddan_boss")
ExtractFile("scenes/xml/dungeons/bdan.xml", "scenes/dungeons/bdan")
ExtractFile("scenes/xml/dungeons/bdan_boss.xml", "scenes/dungeons/bdan_boss")
ExtractFile("scenes/xml/dungeons/Bmori1.xml", "scenes/dungeons/Bmori1")
ExtractFile("scenes/xml/dungeons/moribossroom.xml", "scenes/dungeons/moribossroom")
ExtractFile("scenes/xml/dungeons/HIDAN.xml", "scenes/dungeons/HIDAN")
ExtractFile("scenes/xml/dungeons/MIZUsin.xml", "scenes/dungeons/MIZUsin")
ExtractFile("scenes/xml/dungeons/MIZUsin_bs.xml", "scenes/dungeons/MIZUsin_bs")
ExtractFile("scenes/xml/dungeons/jyasinzou.xml", "scenes/dungeons/jyasinzou")
ExtractFile("scenes/xml/dungeons/HAKAdan.xml", "scenes/dungeons/HAKAdan")
ExtractFile("scenes/xml/dungeons/HAKAdan_bs.xml", "scenes/dungeons/HAKAdan_bs")
ExtractFile("scenes/xml/dungeons/HAKAdanCH.xml", "scenes/dungeons/HAKAdanCH")
ExtractFile("scenes/xml/dungeons/ice_doukutu.xml", "scenes/dungeons/ice_doukutu")
ExtractFile("scenes/xml/dungeons/men.xml", "scenes/dungeons/men")
ExtractFile("scenes/xml/dungeons/ganontika.xml", "scenes/dungeons/ganontika")
ExtractFile("scenes/xml/dungeons/ganontikasonogo.xml", "scenes/dungeons/ganontikasonogo")
ExtractFile("scenes/xml/dungeons/ganon_demo.xml", "scenes/dungeons/ganon_demo")
ExtractFile("scenes/xml/dungeons/ganon_sonogo.xml", "scenes/dungeons/ganon_sonogo")
ExtractFile("scenes/xml/dungeons/ganon_tou.xml", "scenes/dungeons/ganon_tou")